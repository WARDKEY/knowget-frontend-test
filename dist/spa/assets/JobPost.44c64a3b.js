import{b as T,Q as M}from"./QCard.8c22dafe.js";import{Q as Y,a as h,b as m}from"./QItem.ee689c94.js";import{Q as R}from"./QBtn.b68c7b7b.js";import{Q as z}from"./QList.51242735.js";import{Q as F}from"./QPage.b4098c6a.js";import{ah as L,r as v,c as b,w as A,o as O,Z as V,z as k,A as S,B as r,ai as Z,f as i,S as W,U as E,F as $,C as p,E as g,W as J,X as H,Y as q,D as w}from"./index.28efd8ed.js";import{u as X}from"./use-quasar.3456814e.js";import{api as I}from"./axios.8631da7d.js";import{P as G}from"./PaginationControl.38adf1d3.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import"./render.7c345959.js";const ee=L("auth",{state:()=>({isLoggedIn:!1,user:{}}),actions:{async login(t){const e=await I.post("/user/login",t);this.isLoggedIn=!0,this.user=e.data.user},logout(){this.isLoggedIn=!1,this.user={}}}});function P(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}const U=6e4,x=36e5;function te(t,e){const n=P(t),a=P(e);return n.getTime()>a.getTime()}function ae(t,e){var f;const n=(f=e==null?void 0:e.additionalDigits)!=null?f:2,a=re(t);let s;if(a.date){const c=ie(a.date,n);s=ce(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const u=s.getTime();let d=0,o;if(a.time&&(d=le(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(o=ue(a.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(u+d),_=new Date(0);return _.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),_.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),_}return new Date(u+d+o)}const y={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,oe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,se=/^([+-])(\d{2})(?::?(\d{2}))?$/;function re(t){const e={},n=t.split(y.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],y.timeZoneDelimiter.test(e.date)&&(e.date=t.split(y.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const s=y.timezone.exec(a);s?(e.time=a.replace(s[1],""),e.timezone=s[1]):e.time=a}return e}function ie(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?s:u*100,restDateString:t.slice((a[1]||a[2]).length)}}function ce(t,e){if(e===null)return new Date(NaN);const n=t.match(ne);if(!n)return new Date(NaN);const a=!!n[4],s=N(n[1]),u=N(n[2])-1,d=N(n[3]),o=N(n[4]),f=N(n[5])-1;if(a)return ge(e,o,f)?de(e,o,f):new Date(NaN);{const c=new Date(0);return!me(e,u,d)||!pe(e,s)?new Date(NaN):(c.setUTCFullYear(e,u,Math.max(s,d)),c)}}function N(t){return t?parseInt(t):1}function le(t){const e=t.match(oe);if(!e)return NaN;const n=C(e[1]),a=C(e[2]),s=C(e[3]);return De(n,a,s)?n*x+a*U+s*1e3:NaN}function C(t){return t&&parseFloat(t.replace(",","."))||0}function ue(t){if(t==="Z")return 0;const e=t.match(se);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return _e(a,s)?n*(a*x+s*U):NaN}function de(t,e,n){const a=new Date(0);a.setUTCFullYear(t,0,4);const s=a.getUTCDay()||7,u=(e-1)*7+n+1-s;return a.setUTCDate(a.getUTCDate()+u),a}const fe=[31,null,31,30,31,30,31,31,30,31,30,31];function Q(t){return t%400===0||t%4===0&&t%100!==0}function me(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(fe[e]||(Q(t)?29:28))}function pe(t,e){return e>=1&&e<=(Q(t)?366:365)}function ge(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function De(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function _e(t,e){return e>=0&&e<=59}const Ne={components:{PaginationControl:G},setup(){const t=X(),e=v([]),n=v(1),a=10,s=b(()=>Math.ceil(e.value.length/a)),u=ee(),d=Z(),o=async()=>{try{const l=await I.get("/posts");if(console.log("API response:",l.data),Array.isArray(l.data))e.value=l.data.map(D=>({...D,isBookmarked:!1}));else throw new Error("Invalid API response")}catch(l){console.error("Error fetching jobs:",l),t.notify({type:"negative",message:"Failed to fetch job listings"})}},f=b(()=>{const l=(n.value-1)*a,D=l+a;return e.value.slice(l,D)}),c=l=>{d.push({name:"JobPostDetails",params:{post:l}})},_=async l=>{if(!u.isLoggedIn){t.notify("\uB85C\uADF8\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.");return}await I.post(`/bookmark/${l.joRegistNo}`)},j=l=>{const D=l.match(/\d{4}-\d{2}-\d{2}/);if(!D)return"\uC0C1\uD0DC \uBD88\uBA85";const B=ae(D[0]);return te(B,new Date)?"\uAD6C\uC778\uC911":"\uAD6C\uC778 \uB9C8\uAC10"};return A(n,o),O(o),{posts:e,page:n,totalPages:s,paginatedPosts:f,fetchPosts:o,viewDetails:c,toggleBookmark:_,getRecruitmentStatus:j,updatePagination:o}}},he=t=>(H("data-v-73ce8642"),t=t(),q(),t),we=he(()=>w("div",{class:"header"},[w("div",null,[w("div",{class:"text-h5"},"\uC77C\uC790\uB9AC \uC815\uBCF4"),w("p",null,"\uC77C\uC790\uB9AC \uC815\uBCF4\uB97C \uD655\uC778\uD558\uC138\uC694.")])],-1));function ye(t,e,n,a,s,u){const d=V("pagination-control");return k(),S(F,{class:"page-wrapper"},{default:r(()=>[i(M,{class:"page-card"},{default:r(()=>[i(T,null,{default:r(()=>[we]),_:1}),i(T,null,{default:r(()=>[i(z,{bordered:""},{default:r(()=>[(k(!0),W($,null,E(a.paginatedPosts,o=>(k(),S(Y,{key:o.postId,clickable:"",onClick:f=>a.viewDetails(o)},{default:r(()=>[i(h,{side:""},{default:r(()=>[i(m,{label:""},{default:r(()=>[p(g(a.getRecruitmentStatus(o.rceptClosNm)),1)]),_:2},1024)]),_:2},1024),i(h,null,{default:r(()=>[i(m,null,{default:r(()=>[p(g(o.joSj),1)]),_:2},1024),i(m,{caption:""},{default:r(()=>[p(g(o.cmpnyNm),1)]),_:2},1024),i(m,{caption:""},{default:r(()=>[p(g(o.bsnsSumryCn),1)]),_:2},1024)]),_:2},1024),i(h,{side:""},{default:r(()=>[i(m,null,{default:r(()=>[p(g(o.gu),1)]),_:2},1024),i(m,{caption:""},{default:r(()=>[p("\uACBD\uB825 : "+g(o.careerCndNm),1)]),_:2},1024),i(m,{caption:""},{default:r(()=>[p("\uD559\uB825 : "+g(o.acdmcrNm),1)]),_:2},1024)]),_:2},1024),i(h,{side:""},{default:r(()=>[i(R,{dense:"",round:"",icon:"bookmark",color:o.isBookmarked?"yellow":"grey",onClick:J(f=>a.toggleBookmark(o),["stop"])},null,8,["color","onClick"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),i(d,{"total-pages":a.totalPages,modelValue:a.page,"onUpdate:modelValue":[e[0]||(e[0]=o=>a.page=o),a.updatePagination]},null,8,["total-pages","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})}var je=K(Ne,[["render",ye],["__scopeId","data-v-73ce8642"]]);export{je as default};
